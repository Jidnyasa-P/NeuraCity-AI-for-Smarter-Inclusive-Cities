<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NeuraCity - AI-Powered City Dashboard</title>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
    <!-- Three.js Library -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>

    <!-- 3D City Styles -->
    <style>
        #threejs-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 450px;
            z-index: 1;
            pointer-events: none;
            opacity: 0.85;
        }

        #threejs-container canvas {
            display: block;
            width: 100% !important;
            height: 450px !important;
        }

        .landing-content {
            position: relative;
            z-index: 10;
        }

        @media (max-width: 768px) {
            #threejs-container {
                height: 350px;
            }

            #threejs-container canvas {
                height: 350px !important;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
        <nav>
       <div class="logo">
  <div class="logo-circle">
    <img src="logo_neuracity_copy.png" alt="NeuraCity logo" class="navbar-logo-img"/>
  </div>
  <span>NeuraCity</span>
</div>

        <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">‚ò∞</button>
        <ul class="nav-links">
            <li><a href="index.html"  class="active">Home</a></li>
            <li><a href="dashboard.html">Dashboard</a></li>
            <li><a href="map-view.html">Map View</a></li>
            <li><a href="analytics.html">Analytics</a></li>
            <li><a href="community.html">Community</a></li>
            <li><a href="profile.html">Profile</a></li>
        </ul>
        
        <div class="theme-switch-wrapper">
            <label class="theme-switch" for="theme-toggle">
                <input type="checkbox" id="theme-toggle" />
                <div class="slider">
                    <div class="slider-icon sun">‚òÄÔ∏è</div>
                    <div class="slider-icon moon">üåô</div>
                </div>
            </label>
        </div>
    </nav>

    <!-- Landing Page -->
    <div id="landing" class="page active">
        <div id="sun-icon"></div>
        <div id="moon-icon"></div>
        <div class="blank"></div>
        <div class="city-skyline">
            <div class="building"></div>
            <div class="building"></div>
            <div class="building"></div>
            <div class="building"></div>
            <div class="building"></div>
            <div class="building"></div>
            <div class="building"></div>
            <div class="building"></div>
        </div>
                <!-- 3D City Scene Container -->
        <div id="threejs-container"></div>

        <div class="landing-content">
            <h1 class="landing-title">NeuraCity</h1>
            <p class="tagline">AI for Smarter, Inclusive Cities</p>
            <a href="dashboard.html"><button class="cta-button">üèôÔ∏è Explore NeuraCity</button></a>
            <a><button onclick="startTour()" title="Start guided tour" class="cta-button">üéØStart Tour
            </button> </a>
        </div>
    </div>

    <!-- Chatbot -->
    <div class="chatbot-container">
        <button class="chat-toggle" onclick="toggleChat()">ü§ñ</button>
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <div class="chat-avatar">ü§ñ</div>
                <div class="chat-title">
                    <h4>Neura - AI Assistant</h4>
                    <div class="chat-subtitle">Online</div>
                </div>
            </div>
            <div class="chat-messages" id="chatMessages">
                <div class="message bot">
                    Hi! I'm Neura, your AI city assistant. Ask me anything about our city metrics, traffic, air quality, or accessibility!
                </div>
            </div>
            <div class="chat-input-area">
                <button class="voice-btn" onclick="voiceInput()">üé§</button>
                <input type="text" class="chat-input" id="chatInput" placeholder="Type your message..." onkeypress="handleChatEnter(event)">
                <button class="send-btn" onclick="sendMessage()">‚û§</button>
            </div>
        </div>
    </div>

       <!-- Guided Tour Overlay -->
    <div id="tourOverlay" class="tour-overlay">
        <div class="tour-modal">
            <button class="tour-skip" onclick="skipTour()">‚úï Skip Tour</button>
            
            <div class="tour-avatar">
                <svg class="neura-avatar" viewBox="0 0 100 100">
                    <defs>
                        <linearGradient id="avatarGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#00D4FF;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#20E3B2;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    <circle cx="50" cy="50" r="45" fill="url(#avatarGradient)" class="avatar-glow"/>
                    <circle cx="35" cy="42" r="4" fill="#0A0F1F" class="avatar-eye-left"/>
                    <circle cx="65" cy="42" r="4" fill="#0A0F1F" class="avatar-eye-right"/>
                    <path d="M 32 60 Q 50 70 68 60" stroke="#0A0F1F" stroke-width="3" fill="none" class="avatar-smile"/>
                </svg>
            </div>
            
            <div class="tour-content">
                <div class="tour-step active" data-step="1">
                    <h2>üëã Welcome to NeuraCity!</h2>
                    <p>Hi! I'm Neura, your AI assistant. Let me show you around this futuristic smart city dashboard!</p>
                    <div class="tour-actions">
                        <button class="tour-btn-primary" onclick="nextTourStep()">Start Tour</button>
                    </div>
                </div>
                
                <div class="tour-step" data-step="2">
                    <h2>üìä Dashboard Overview</h2>
                    <p>Monitor real-time city metrics including Air Quality, Accessibility Score, Traffic Density, and Safety Index‚Äîall updated live!</p>
                    <div class="tour-actions">
                        <button class="tour-btn-secondary" onclick="prevTourStep()">Back</button>
                        <button class="tour-btn-primary" onclick="nextTourStep()">Next</button>
                    </div>
                </div>
                
                <div class="tour-step" data-step="3">
                    <h2>üó∫Ô∏è Interactive Maps</h2>
                    <p>Explore color-coded city zones with filters for different metrics. Click any zone to see detailed information!</p>
                    <div class="tour-actions">
                        <button class="tour-btn-secondary" onclick="prevTourStep()">Back</button>
                        <button class="tour-btn-primary" onclick="nextTourStep()">Next</button>
                    </div>
                </div>
                
                <div class="tour-step" data-step="4">
                    <h2>üìà Analytics & Insights</h2>
                    <p>View comprehensive charts showing inclusion metrics, city performance, demographics, and growth trends.</p>
                    <div class="tour-actions">
                        <button class="tour-btn-secondary" onclick="prevTourStep()">Back</button>
                        <button class="tour-btn-primary" onclick="nextTourStep()">Next</button>
                    </div>
                </div>
                
                <div class="tour-step" data-step="5">
                    <h2>üí¨ Chat With Me!</h2>
                    <p>Need help? Click the chat button anytime to ask me questions about air quality, traffic, accessibility, or safety!</p>
                    <div class="tour-actions">
                        <button class="tour-btn-secondary" onclick="prevTourStep()">Back</button>
                        <button class="tour-btn-primary" onclick="nextTourStep()">Next</button>
                    </div>
                </div>
                <div class="tour-step" data-step="6">
                    <h2>üë§ Your Profile</h2>
                    <p>Track your achievements, collect badges, compete on the leaderboard, and unlock exclusive rewards!</p>
                    <div class="tour-actions">
                        <button class="tour-btn-secondary" onclick="prevTourStep()">Back</button>
                        <button class="tour-btn-primary" onclick="completeTour()">Finish Tour</button>
                    </div>
                </div>
            </div>
            
            <div class="tour-progress">
                <div class="progress-dot" data-step="1"></div>
                <div class="progress-dot" data-step="2"></div>
                <div class="progress-dot" data-step="3"></div>
                <div class="progress-dot" data-step="4"></div>
                <div class="progress-dot" data-step="5"></div>
                <div class="progress-dot" data-step="6"></div>
            </div>
        </div>
    </div>

        <!-- Sound Effect System -->
    <audio id="soundClick" preload="auto">
        <source src="sounds/Soft Digital Click.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundHover" preload="auto">
        <source src="sounds/Electric Zap.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundDataLoad" preload="auto">
        <source src="sounds/Data Bubble.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundChatOpen" preload="auto">
        <source src="sounds/AI Chime.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundChatMessage" preload="auto">
        <source src="sounds/Neural Ping.mp3" type="audio/mpeg">
    </audio>
    <audio id="soundChatSend" preload="auto">
        <source src="sounds/Synth Pulse.mp3" type="audio/mpeg">
    </audio>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>

    <!-- Custom JavaScript -->
    <script src="script.js"></script>
    <!-- 3D City Simulation -->
    <script src="city3d.js"></script>
</body>
</html>